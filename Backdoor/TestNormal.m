close all; clear; clc;
recObj = audiorecorder(48000, 24, 1);
disp('Start Recording');
record(recObj);
disp('Playing Backdoor signal');
sampleRate = 96000;
duration = 0.5;
t = 0:1/96000:duration;
sfreq = 14000;
efreq = 14000;
sig = chirp(t, sfreq, duration, efreq);
sound(sig, 96000);
pause(2);
disp('Stop Recording');
stop(recObj);
plot(sig);
data = getaudiodata(recObj);
figure; spectrogram(sig, 1024, 512, 96000, 96000);
figure; plot((1:length(data))/recObj.SampleRate, data);
figure; spectrogram(data, 1024, 512, 48000, 48000);
cc = xcorr(data, sig);
figure; plot(cc);